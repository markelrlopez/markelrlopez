name: Actualizar README con repos recientes

on:
  schedule:
    - cron: '0 0 * * *'  # Cada dÃ­a a medianoche
  workflow_dispatch:

jobs:
  update-readme:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const { data: repos } = await github.repos.listForUser({
              username: 'markelrlopez',
              sort: 'updated',
              per_page: 5
            });

            const fs = require('fs');
            const readme = `# ðŸ‘¨â€ðŸ’» Markel RubiÃ±os

Soy Markel, estudiante de Ãºltimo curso de IngenierÃ­a InformÃ¡tica...

## ðŸš€ Ãšltimos Repositorios

${repos.map(repo => `- [${repo.name}](${repo.html_url}) - ${repo.description || ''}`).join('\n')}

`;

            fs.writeFileSync('README.md', readme);
